(()=>{var e={};e.id=183,e.ids=[183],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},358:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4038:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c}),s(1396),s(7764),s(5866);var r=s(3191),a=s(8716),i=s(7922),l=s.n(i),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["Admin",{children:["Ready",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1396)),"/Users/usman/Linentrack/linentrack-oprational/app/Admin/Ready/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,7764)),"/Users/usman/Linentrack/linentrack-oprational/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/usman/Linentrack/linentrack-oprational/app/Admin/Ready/page.js"],x="/Admin/Ready/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/Admin/Ready/page",pathname:"/Admin/Ready",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9334:(e,t,s)=>{Promise.resolve().then(s.bind(s,8011))},8011:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(326),a=s(7577),i=s(9318),l=s(7147),n=s(76),d=s(89);let c=({setShowMessage:e})=>{let[t,s]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[o,x]=(0,a.useState)("All"),[m,p]=(0,a.useState)("All"),[u,h]=(0,a.useState)(!1),[y,g]=(0,a.useState)(!1),[j,f]=(0,a.useState)(!1),[v,N]=(0,a.useState)(null),[w,b]=(0,a.useState)(""),[D,k]=(0,a.useState)(null),[A,C]=(0,a.useState)(null),[q,S]=(0,a.useState)({highlightOrderRowRed:"20",highlightOrderRowRedBy:"20"}),[R,O]=(0,a.useState)([]),[P,I]=(0,a.useState)({orders:0,pieces:0,value:0,unpaid:0});(0,a.useEffect)(()=>{let e=localStorage.getItem("userData");e&&k(JSON.parse(e).id);let t=localStorage.getItem("selectedStoreId");t&&C(t)},[]),(0,a.useEffect)(()=>{D&&A&&(M(),$())},[D,A]),(0,a.useEffect)(()=>{if(!D||!A)return;let e=setInterval(()=>{$()},3e4);return()=>clearInterval(e)},[D,A]);let M=async()=>{try{let e=(0,n.JU)(l.db,"storeSettings",A),t=await (0,n.QT)(e);if(t.exists()){let e=t.data();S({highlightOrderRowRed:e.highlightOrderRowRed||"20",highlightOrderRowRedBy:e.highlightOrderRowRedBy||"20"})}}catch(e){console.error("Error fetching store settings:",e)}},$=async()=>{try{c(!0);let e=(0,n.hJ)(l.db,"pos_orders",D,"stores",A,"orders"),t=(0,n.IO)(e,(0,n.ar)("status","==",d.i.Ready)),r=await (0,n.PL)(t),a=[];r.forEach(e=>{let t=e.data();a.push({id:e.id,...t,createdAt:t.dates?.createdAt?.toDate?.()||t.createdAt?.toDate?.()||new Date,deliveryDate:t.dates?.deliveryDate?.toDate?.()||t.deliveryDate?.toDate?.()||new Date,updatedAt:t.updatedAt?.toDate?.()||new Date})}),s(a)}catch(t){console.error("Error fetching orders:",t),e({type:"error",message:"Failed to fetch orders"})}finally{c(!1)}},_=e=>{let t=e.items||e.selectedItems||e.orders||[];return Array.isArray(t)?t.reduce((e,t)=>e+(Number(t?.quantity)||0),0):0},T=e=>{let t=e.section||e.category||e.serviceType||e.type;if(t)return t;let s=e.items||e.selectedItems||e.orders||[],r=Array.isArray(s)&&s.length>0?s[0]:null;return r?.section||r?.category||r?.type||"Unknown"},L=(e,t)=>{if("All"===t)return!0;let s=new Date;s.setHours(0,0,0,0);let r=new Date(s);r.setHours(23,59,59,999);let a=e.deliveryDate instanceof Date?e.deliveryDate:new Date(e.deliveryDate),i=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),l=a>=s&&a<=r,n=(()=>{let e=new Date(s);e.setDate(e.getDate()+1);let t=new Date(r);return t.setDate(t.getDate()+1),a>=e&&a<=t})(),d=a<s;switch(t){case"Due Today":return l;case"Due Tomorrow":return n;case"Due Today & Overdue":return l||d;case"Overdue":return d;case"Created Today":return i>=s&&i<=r;default:return!0}};(0,a.useEffect)(()=>{let e=w.toLowerCase(),s=t.filter(t=>{let s=t.customer?.name?.toLowerCase()||"",r=t.orderId?.toLowerCase()||"",a=!e||s.includes(e)||r.includes(e),i=T(t),l="All"===o||i===o,n=L(t,m);return a&&l&&n});O(s);let r=s.length;I({orders:r,pieces:s.reduce((e,t)=>e+_(t),0),value:s.reduce((e,t)=>e+(Number(t?.payment?.total)||Number(t?.formData?.total)||Number(t?.totalAmount)||Number(t?.total)||0),0),unpaid:s.reduce((e,t)=>{let s=Number(t?.payment?.total)||Number(t?.formData?.total)||Number(t?.totalAmount)||Number(t?.total)||0;return e+(t?.payment?.paymentMethod||t?.formData?.paymentMethod?0:s)},0)})},[t,w,o,m]);let E=e=>!!e.deliveryDate&&Math.floor((new Date-new Date(e.deliveryDate))/864e5)>=parseInt(q.highlightOrderRowRed),U=async t=>{try{let s=(0,n.JU)(l.db,"pos_orders",D,"stores",A,"orders",t.orderId);await (0,n.r7)(s,{status:d.i.Collected,updatedAt:new Date,collectedDateTime:new Date}),await $(),e({type:"success",message:"Order marked as collected successfully"}),h(!1),N(null)}catch(t){console.error("Error updating order:",t),e({type:"error",message:"Failed to update order"})}},B=async t=>{try{let s=(0,n.JU)(l.db,"pos_orders",D,"stores",A,"orders",t.orderId);await (0,n.r7)(s,{status:d.i.Completed,updatedAt:new Date,deliveredDateTime:new Date}),await $(),e({type:"success",message:`Order#${t.orderId} is Completed`})}catch(t){console.error("Error updating order:",t),e({type:"error",message:"Failed to update order"})}},z=e=>e?`$${parseFloat(e).toLocaleString()}`:"$0",G=e=>e?.map((e,t)=>r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color||"#000"}}),r.jsxs("span",{className:"text-sm",children:[e.name," \xd7 ",e.quantity]})]},t)),F=e=>e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\//g,"/"):"-",H=e=>{switch(e){case"cash":return"Cash";case"card":return"Card";case"cheque":return"Cheque";case"invoice":return"Invoice";default:return e||"-"}},J=e=>{if(!e)return"bg-red-100 text-red-800";switch(e){case"cash":return"bg-amber-50 text-amber-600";case"cheque":return"bg-indigo-50 text-indigo-600";case"card":return"bg-green-50 text-green-700";case"invoice":return"bg-slate-100 text-slate-700";default:return"bg-green-100 text-green-800"}};return(0,r.jsxs)("div",{className:"flex-1 p-6 mt-20",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("h1",{className:"text-2xl font-semibold mr-4",children:"Ready"}),r.jsx("div",{className:"hidden md:block w-px h-6 bg-gray-200 mx-2"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 ml-4 md:ml-16 lg:ml-24",children:[(0,r.jsxs)("button",{className:"px-3 py-2 border rounded text-sm flex items-center gap-2 bg-white hover:bg-gray-50",onClick:()=>window.open("/Admin/Operational","_blank"),children:[r.jsx("span",{children:"Packing report"}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 9V2h12v7M6 18H5a2 2 0 01-2-2V9h18v7a2 2 0 01-2 2h-1M6 14h12v8H6v-8z"})})]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("label",{className:"mr-2 text-sm text-gray-600",children:"Filter Section"}),(0,r.jsxs)("select",{value:o,onChange:e=>x(e.target.value),className:"px-3 py-2 border rounded bg-white text-sm",children:[r.jsx("option",{value:"All",children:"All"}),r.jsx("option",{value:"Dry Cleaning",children:"Dry Cleaning"}),r.jsx("option",{value:"Bulk Laundry",children:"Bulk Laundry"})]})]}),(0,r.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"px-3 py-2 border rounded bg-white text-sm",children:[r.jsx("option",{children:"All"}),r.jsx("option",{children:"Due Today"}),r.jsx("option",{children:"Due Tomorrow"}),r.jsx("option",{children:"Due Today & Overdue"}),r.jsx("option",{children:"Overdue"}),r.jsx("option",{children:"Created Today"})]}),r.jsx("input",{type:"text",placeholder:"Search Order",value:w,onChange:e=>b(e.target.value),className:"px-3 py-2 border rounded text-sm w-48"})]})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-6 text-xs text-gray-700",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"mr-1",children:"Orders"}),r.jsx("span",{className:"font-medium",children:P.orders})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"mr-1",children:"Pieces"}),r.jsx("span",{className:"font-medium",children:P.pieces})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"mr-1",children:"Value"}),r.jsx("span",{className:"font-medium",children:z(P.value)})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"mr-1",children:"Unpaid"}),r.jsx("span",{className:"font-medium",children:z(P.unpaid)})]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bag ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Placed"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ready By"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ORDER"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NOTES"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rack #"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TOTAL"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[R.map(e=>(0,r.jsxs)("tr",{className:`hover:bg-gray-50 ${E(e)?"bg-red-50":""}`,children:[r.jsx("td",{className:"px-4 py-3 text-sm",children:e.adminId||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:e.details?.bagQuantity||e.formData?.bagQuantity||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:F(e.createdAt)}),r.jsx("td",{className:"px-4 py-3 text-sm",children:F(e.deliveryDate)}),r.jsx("td",{className:"px-4 py-3 text-sm",children:e.customer?.name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:e.customer?.phone||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("div",{className:"max-w-[200px]",children:G(e.items)})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:e.items?.reduce((e,t)=>e+(t.quantity||0),0)||0}),r.jsx("td",{className:"px-4 py-3 text-sm",children:e.details?.notes||e.notes||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:e.rackNumber||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:(()=>{let t=e.payment?.paymentMethod||e.formData?.paymentMethod;return r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${J(t)}`,children:t?H(t):"Unpaid"})})()}),r.jsx("td",{className:"px-4 py-3 text-sm text-center",children:z(e.payment?.credit||e.formData?.credit||0)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:z(e.payment?.total||e.formData?.total||0)}),r.jsx("td",{className:"px-4 py-3 text-sm text-right",children:e.details?.deliveryOption==="Instore & Self-Collect"?r.jsx("button",{onClick:()=>{N(e),h(!0)},className:"px-4 py-2 bg-indigo-50 text-indigo-700 rounded-full text-sm hover:bg-indigo-100",children:"Mark as Collected"}):r.jsx("button",{onClick:()=>{N(e),g(!0)},className:"px-4 py-2 bg-indigo-50 text-indigo-700 rounded-full text-sm hover:bg-indigo-100",children:"Mark as Delivered"})})]},e.orderId)),i&&r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-4 text-sm text-center",colSpan:"14",children:r.jsx("div",{className:"flex justify-center",children:(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})}),!i&&0===t.length&&r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-4 text-sm text-center text-gray-500",colSpan:"14",children:"No ready orders found"})})]})]})})}),u&&v&&r.jsx(({order:e,onClose:t,onConfirm:s})=>{let a=e.payment?.paymentMethod||e.formData?.paymentMethod,i=Array.isArray(e.items)?e.items.map(e=>`${e.name}${e.type?`(${e.type})`:""} x ${e.quantity||0}`).slice(0,3):[],l=e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt||Date.now());return(0,r.jsxs)("div",{className:"fixed inset-0 z-50",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:r.jsx("div",{className:"relative transform overflow-hidden bg-white rounded-2xl shadow-xl w-[900px] max-w-5xl",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-5",children:[r.jsx("h3",{className:"text-2xl font-semibold",children:"Mark as Collected"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"px-4 py-1 rounded-full text-sm bg-indigo-50 text-indigo-600",children:"Cleaned"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-1",children:"\xd7"})]})]}),(0,r.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"grid grid-cols-8 text-xs font-medium uppercase tracking-wider bg-gray-50 text-gray-500",children:[r.jsx("div",{className:"px-4 py-3 text-left",children:"Order ID"}),r.jsx("div",{className:"px-4 py-3 text-left col-span-2",children:"Order Summary"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Date"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Date Cleaned"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Paid"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Total"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Balance"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-8 items-center text-sm",children:[(0,r.jsxs)("div",{className:"px-4 py-3",children:["#",e.orderId]}),r.jsx("div",{className:"px-4 py-3 col-span-2 space-y-1",children:i.length>0?i.map((e,t)=>r.jsx("div",{children:e},t)):r.jsx("div",{children:"-"})}),r.jsx("div",{className:"px-4 py-3",children:F(e.createdAt)}),r.jsx("div",{className:"px-4 py-3",children:F(l)}),r.jsx("div",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${J(a)}`,children:a?H(a):"Unpaid"})}),r.jsx("div",{className:"px-4 py-3",children:z(e.payment?.total||e.formData?.total)}),r.jsx("div",{className:"px-4 py-3 text-green-600",children:"$0.00"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end mt-5",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm mr-3",children:"Cancel"}),r.jsx("button",{onClick:()=>s(e),className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Mark as Collected"})]})]})})})})]})},{order:v,onClose:()=>{h(!1),N(null)},onConfirm:U}),y&&v&&r.jsx(({onClose:e,onYes:t})=>(0,r.jsxs)("div",{className:"fixed inset-0 z-50",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:e}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:r.jsx("div",{className:"relative bg-white rounded-xl shadow-xl w-[420px]",children:(0,r.jsxs)("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:"\xd7"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Are you sure ?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Do you want to mark this order as collected ?"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("button",{onClick:e,className:"px-5 py-2 border border-blue-600 text-blue-600 rounded-md",children:"No"}),r.jsx("button",{onClick:t,className:"px-5 py-2 bg-blue-600 text-white rounded-md",children:"Yes"})]})]})})})})]}),{onClose:()=>{g(!1),N(null)},onYes:async()=>{g(!1),await B(v),f(!0)}}),j&&v&&r.jsx(({order:e,onClose:t})=>{let s=e.payment?.paymentMethod||e.formData?.paymentMethod,a=Array.isArray(e.items)?e.items.map(e=>`${e.name}${e.type?`(${e.type})`:""} x ${e.quantity||0}`).slice(0,3):[],i=e.updatedAt instanceof Date?e.updatedAt:new Date(e.updatedAt||Date.now());return(0,r.jsxs)("div",{className:"fixed inset-0 z-50",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:r.jsx("div",{className:"relative transform overflow-hidden bg-white rounded-2xl shadow-xl w-[900px] max-w-5xl",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-5",children:[r.jsx("h3",{className:"text-2xl font-semibold",children:"Mark as Delivered"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"px-4 py-1 rounded-full text-sm bg-indigo-50 text-indigo-600",children:"Cleaned"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-1",children:"\xd7"})]})]}),(0,r.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"grid grid-cols-8 text-xs font-medium uppercase tracking-wider bg-gray-50 text-gray-500",children:[r.jsx("div",{className:"px-4 py-3 text-left",children:"Order ID"}),r.jsx("div",{className:"px-4 py-3 text-left col-span-2",children:"Order Summary"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Date"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Date Cleaned"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Paid"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Total"}),r.jsx("div",{className:"px-4 py-3 text-left",children:"Balance"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-8 items-center text-sm",children:[(0,r.jsxs)("div",{className:"px-4 py-3",children:["#",e.orderId]}),r.jsx("div",{className:"px-4 py-3 col-span-2 space-y-1",children:a.length>0?a.map((e,t)=>r.jsx("div",{children:e},t)):r.jsx("div",{children:"-"})}),r.jsx("div",{className:"px-4 py-3",children:F(e.createdAt)}),r.jsx("div",{className:"px-4 py-3",children:F(i)}),r.jsx("div",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${J(s)}`,children:s?H(s):"Unpaid"})}),r.jsx("div",{className:"px-4 py-3",children:z(e.payment?.total||e.formData?.total)}),r.jsx("div",{className:"px-4 py-3",children:z(e.payment?.total||e.formData?.total)})]})]}),r.jsx("div",{className:"flex items-center justify-end mt-6",children:r.jsx("button",{onClick:()=>{try{window.location.href=`/Admin/Invoice?orderId=${e.orderId}`}catch(e){t()}},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Pay Now"})})]})})})})]})},{order:v,onClose:()=>{f(!1),N(null)}})]})};function o(){let[e,t]=(0,a.useState)({type:null,message:null});return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(i.Z,{}),e.message&&r.jsx("div",{className:`fixed top-4 right-4 p-4 rounded-lg shadow-lg ${"success"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.message}),r.jsx(c,{setShowMessage:t})]})}},1396:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/usman/Linentrack/linentrack-oprational/app/Admin/Ready/page.js`),{__esModule:i,$$typeof:l}=a;a.default;let n=(0,r.createProxy)(String.raw`/Users/usman/Linentrack/linentrack-oprational/app/Admin/Ready/page.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,1,621,945,578,610],()=>s(4038));module.exports=r})();