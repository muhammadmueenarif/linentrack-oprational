(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{4457:function(e,t,s){Promise.resolve().then(s.bind(s,7113))},7113:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(7437),l=s(2265),r=s(4837),d=s(2317),i=s(9842),n=s(6395);let c=e=>{let{setShowMessage:t}=e,[s,r]=(0,l.useState)([]),[c,o]=(0,l.useState)(!0),[x,m]=(0,l.useState)("All"),[u,p]=(0,l.useState)("All"),[h,v]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[j,f]=(0,l.useState)(!1),[N,w]=(0,l.useState)(null),[b,D]=(0,l.useState)(""),[k,C]=(0,l.useState)(null),[A,S]=(0,l.useState)(null),[O,I]=(0,l.useState)({highlightOrderRowRed:"20",highlightOrderRowRedBy:"20"}),[R,M]=(0,l.useState)([]),[T,E]=(0,l.useState)({orders:0,pieces:0,value:0,unpaid:0});(0,l.useEffect)(()=>{let e=localStorage.getItem("userData");e&&C(JSON.parse(e).id);let t=localStorage.getItem("selectedStoreId");t&&S(t)},[]),(0,l.useEffect)(()=>{k&&A&&(B(),L())},[k,A]),(0,l.useEffect)(()=>{if(!k||!A)return;let e=setInterval(()=>{L()},3e4);return()=>clearInterval(e)},[k,A]);let B=async()=>{try{let e=(0,i.JU)(d.db,"storeSettings",A),t=await (0,i.QT)(e);if(t.exists()){let e=t.data();I({highlightOrderRowRed:e.highlightOrderRowRed||"20",highlightOrderRowRedBy:e.highlightOrderRowRedBy||"20"})}}catch(e){console.error("Error fetching store settings:",e)}},L=async()=>{try{o(!0);let e=(0,i.hJ)(d.db,"pos_orders",k,"stores",A,"orders"),t=(0,i.IO)(e,(0,i.ar)("status","==",n.i.Ready)),s=await (0,i.PL)(t),a=[];s.forEach(e=>{var t,s,l,r,d,i,n,c,o,x,m,u;let p=e.data();a.push({id:e.id,...p,createdAt:(null===(l=p.dates)||void 0===l?void 0:null===(s=l.createdAt)||void 0===s?void 0:null===(t=s.toDate)||void 0===t?void 0:t.call(s))||(null===(d=p.createdAt)||void 0===d?void 0:null===(r=d.toDate)||void 0===r?void 0:r.call(d))||new Date,deliveryDate:(null===(c=p.dates)||void 0===c?void 0:null===(n=c.deliveryDate)||void 0===n?void 0:null===(i=n.toDate)||void 0===i?void 0:i.call(n))||(null===(x=p.deliveryDate)||void 0===x?void 0:null===(o=x.toDate)||void 0===o?void 0:o.call(x))||new Date,updatedAt:(null===(u=p.updatedAt)||void 0===u?void 0:null===(m=u.toDate)||void 0===m?void 0:m.call(u))||new Date})}),r(a)}catch(e){console.error("Error fetching orders:",e),t({type:"error",message:"Failed to fetch orders"})}finally{o(!1)}},P=e=>{let t=e.items||e.selectedItems||e.orders||[];return Array.isArray(t)?t.reduce((e,t)=>e+(Number(null==t?void 0:t.quantity)||0),0):0},_=e=>{let t=e.section||e.category||e.serviceType||e.type;if(t)return t;let s=e.items||e.selectedItems||e.orders||[],a=Array.isArray(s)&&s.length>0?s[0]:null;return(null==a?void 0:a.section)||(null==a?void 0:a.category)||(null==a?void 0:a.type)||"Unknown"},q=(e,t)=>{if("All"===t)return!0;let s=new Date;s.setHours(0,0,0,0);let a=new Date(s);a.setHours(23,59,59,999);let l=e.deliveryDate instanceof Date?e.deliveryDate:new Date(e.deliveryDate),r=e.createdAt instanceof Date?e.createdAt:new Date(e.createdAt),d=l>=s&&l<=a,i=(()=>{let e=new Date(s);e.setDate(e.getDate()+1);let t=new Date(a);return t.setDate(t.getDate()+1),l>=e&&l<=t})(),n=l<s;switch(t){case"Due Today":return d;case"Due Tomorrow":return i;case"Due Today & Overdue":return d||n;case"Overdue":return n;case"Created Today":return r>=s&&r<=a;default:return!0}};(0,l.useEffect)(()=>{let e=b.toLowerCase(),t=s.filter(t=>{var s,a,l;let r=(null===(a=t.customer)||void 0===a?void 0:null===(s=a.name)||void 0===s?void 0:s.toLowerCase())||"",d=(null===(l=t.orderId)||void 0===l?void 0:l.toLowerCase())||"",i=!e||r.includes(e)||d.includes(e),n=_(t),c="All"===x||n===x,o=q(t,u);return i&&c&&o});M(t);let a=t.length;E({orders:a,pieces:t.reduce((e,t)=>e+P(t),0),value:t.reduce((e,t)=>{var s,a;return e+(Number(null==t?void 0:null===(s=t.payment)||void 0===s?void 0:s.total)||Number(null==t?void 0:null===(a=t.formData)||void 0===a?void 0:a.total)||Number(null==t?void 0:t.totalAmount)||Number(null==t?void 0:t.total)||0)},0),unpaid:t.reduce((e,t)=>{var s,a,l,r;let d=Number(null==t?void 0:null===(s=t.payment)||void 0===s?void 0:s.total)||Number(null==t?void 0:null===(a=t.formData)||void 0===a?void 0:a.total)||Number(null==t?void 0:t.totalAmount)||Number(null==t?void 0:t.total)||0;return e+((null==t?void 0:null===(l=t.payment)||void 0===l?void 0:l.paymentMethod)||(null==t?void 0:null===(r=t.formData)||void 0===r?void 0:r.paymentMethod)?0:d)},0)})},[s,b,x,u]);let U=e=>!!e.deliveryDate&&Math.floor((new Date-new Date(e.deliveryDate))/864e5)>=parseInt(O.highlightOrderRowRed),z=async e=>{try{let s=(0,i.JU)(d.db,"pos_orders",k,"stores",A,"orders",e.orderId);await (0,i.r7)(s,{status:n.i.Collected,updatedAt:new Date,collectedDateTime:new Date}),await L(),t({type:"success",message:"Order marked as collected successfully"}),v(!1),w(null)}catch(e){console.error("Error updating order:",e),t({type:"error",message:"Failed to update order"})}},F=async e=>{try{let s=(0,i.JU)(d.db,"pos_orders",k,"stores",A,"orders",e.orderId);await (0,i.r7)(s,{status:n.i.Completed,updatedAt:new Date,deliveredDateTime:new Date}),await L(),t({type:"success",message:"Order#".concat(e.orderId," is Completed")})}catch(e){console.error("Error updating order:",e),t({type:"error",message:"Failed to update order"})}},H=e=>e?"$".concat(parseFloat(e).toLocaleString()):"$0",J=e=>null==e?void 0:e.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center mb-1",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color||"#000"}}),(0,a.jsxs)("span",{className:"text-sm",children:[e.name," \xd7 ",e.quantity]})]},t)),Q=e=>e?e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\//g,"/"):"-",V=e=>{switch(e){case"cash":return"Cash";case"card":return"Card";case"cheque":return"Cheque";case"invoice":return"Invoice";default:return e||"-"}},$=e=>{if(!e)return"bg-red-100 text-red-800";switch(e){case"cash":return"bg-amber-50 text-amber-600";case"cheque":return"bg-indigo-50 text-indigo-600";case"card":return"bg-green-50 text-green-700";case"invoice":return"bg-slate-100 text-slate-700";default:return"bg-green-100 text-green-800"}};return(0,a.jsxs)("div",{className:"flex-1 p-6 mt-20",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mr-4",children:"Ready"}),(0,a.jsx)("div",{className:"hidden md:block w-px h-6 bg-gray-200 mx-2"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 ml-4 md:ml-16 lg:ml-24",children:[(0,a.jsxs)("button",{className:"px-3 py-2 border rounded text-sm flex items-center gap-2 bg-white hover:bg-gray-50",onClick:()=>window.open("/Admin/Operational","_blank"),children:[(0,a.jsx)("span",{children:"Packing report"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 9V2h12v7M6 18H5a2 2 0 01-2-2V9h18v7a2 2 0 01-2 2h-1M6 14h12v8H6v-8z"})})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{className:"mr-2 text-sm text-gray-600",children:"Filter Section"}),(0,a.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"px-3 py-2 border rounded bg-white text-sm",children:[(0,a.jsx)("option",{value:"All",children:"All"}),(0,a.jsx)("option",{value:"Dry Cleaning",children:"Dry Cleaning"}),(0,a.jsx)("option",{value:"Bulk Laundry",children:"Bulk Laundry"})]})]}),(0,a.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"px-3 py-2 border rounded bg-white text-sm",children:[(0,a.jsx)("option",{children:"All"}),(0,a.jsx)("option",{children:"Due Today"}),(0,a.jsx)("option",{children:"Due Tomorrow"}),(0,a.jsx)("option",{children:"Due Today & Overdue"}),(0,a.jsx)("option",{children:"Overdue"}),(0,a.jsx)("option",{children:"Created Today"})]}),(0,a.jsx)("input",{type:"text",placeholder:"Search Order",value:b,onChange:e=>D(e.target.value),className:"px-3 py-2 border rounded text-sm w-48"})]})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-6 text-xs text-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"mr-1",children:"Orders"}),(0,a.jsx)("span",{className:"font-medium",children:T.orders})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"mr-1",children:"Pieces"}),(0,a.jsx)("span",{className:"font-medium",children:T.pieces})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"mr-1",children:"Value"}),(0,a.jsx)("span",{className:"font-medium",children:H(T.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"mr-1",children:"Unpaid"}),(0,a.jsx)("span",{className:"font-medium",children:H(T.unpaid)})]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bag ID"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Placed"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ready By"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ORDER"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NOTES"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rack #"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TOTAL"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[R.map(e=>{var t,s,l,r,d,i,n,c,o,x,m;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(U(e)?"bg-red-50":""),children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.adminId||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:(null===(t=e.details)||void 0===t?void 0:t.bagQuantity)||(null===(s=e.formData)||void 0===s?void 0:s.bagQuantity)||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:Q(e.createdAt)}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:Q(e.deliveryDate)}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:(null===(l=e.customer)||void 0===l?void 0:l.name)||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:(null===(r=e.customer)||void 0===r?void 0:r.phone)||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,a.jsx)("div",{className:"max-w-[200px]",children:J(e.items)})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:(null===(d=e.items)||void 0===d?void 0:d.reduce((e,t)=>e+(t.quantity||0),0))||0}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:(null===(i=e.details)||void 0===i?void 0:i.notes)||e.notes||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.rackNumber||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:(()=>{var t,s;let l=(null===(t=e.payment)||void 0===t?void 0:t.paymentMethod)||(null===(s=e.formData)||void 0===s?void 0:s.paymentMethod);return(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat($(l)),children:l?V(l):"Unpaid"})})()}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:H((null===(n=e.payment)||void 0===n?void 0:n.credit)||(null===(c=e.formData)||void 0===c?void 0:c.credit)||0)}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-right font-medium",children:H((null===(o=e.payment)||void 0===o?void 0:o.total)||(null===(x=e.formData)||void 0===x?void 0:x.total)||0)}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-right",children:(null===(m=e.details)||void 0===m?void 0:m.deliveryOption)==="Instore & Self-Collect"?(0,a.jsx)("button",{onClick:()=>{w(e),v(!0)},className:"px-4 py-2 bg-indigo-50 text-indigo-700 rounded-full text-sm hover:bg-indigo-100",children:"Mark as Collected"}):(0,a.jsx)("button",{onClick:()=>{w(e),g(!0)},className:"px-4 py-2 bg-indigo-50 text-indigo-700 rounded-full text-sm hover:bg-indigo-100",children:"Mark as Delivered"})})]},e.orderId)}),c&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-4 py-4 text-sm text-center",colSpan:"14",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})}),!c&&0===s.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-4 py-4 text-sm text-center text-gray-500",colSpan:"14",children:"No ready orders found"})})]})]})})}),h&&N&&(0,a.jsx)(e=>{var t,s,l,r;let{order:d,onClose:i,onConfirm:n}=e,c=(null===(t=d.payment)||void 0===t?void 0:t.paymentMethod)||(null===(s=d.formData)||void 0===s?void 0:s.paymentMethod),o=Array.isArray(d.items)?d.items.map(e=>"".concat(e.name).concat(e.type?"(".concat(e.type,")"):""," x ").concat(e.quantity||0)).slice(0,3):[],x=d.updatedAt instanceof Date?d.updatedAt:new Date(d.updatedAt||Date.now());return(0,a.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:i}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsx)("div",{className:"relative transform overflow-hidden bg-white rounded-2xl shadow-xl w-[900px] max-w-5xl",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-5",children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold",children:"Mark as Collected"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"px-4 py-1 rounded-full text-sm bg-indigo-50 text-indigo-600",children:"Cleaned"}),(0,a.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-500 p-1",children:"\xd7"})]})]}),(0,a.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"grid grid-cols-8 text-xs font-medium uppercase tracking-wider bg-gray-50 text-gray-500",children:[(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Order ID"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left col-span-2",children:"Order Summary"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Date"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Date Cleaned"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Paid"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Total"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Balance"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-8 items-center text-sm",children:[(0,a.jsxs)("div",{className:"px-4 py-3",children:["#",d.orderId]}),(0,a.jsx)("div",{className:"px-4 py-3 col-span-2 space-y-1",children:o.length>0?o.map((e,t)=>(0,a.jsx)("div",{children:e},t)):(0,a.jsx)("div",{children:"-"})}),(0,a.jsx)("div",{className:"px-4 py-3",children:Q(d.createdAt)}),(0,a.jsx)("div",{className:"px-4 py-3",children:Q(x)}),(0,a.jsx)("div",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat($(c)),children:c?V(c):"Unpaid"})}),(0,a.jsx)("div",{className:"px-4 py-3",children:H((null===(l=d.payment)||void 0===l?void 0:l.total)||(null===(r=d.formData)||void 0===r?void 0:r.total))}),(0,a.jsx)("div",{className:"px-4 py-3 text-green-600",children:"$0.00"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end mt-5",children:[(0,a.jsx)("button",{onClick:i,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm mr-3",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>n(d),className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Mark as Collected"})]})]})})})})]})},{order:N,onClose:()=>{v(!1),w(null)},onConfirm:z}),y&&N&&(0,a.jsx)(e=>{let{onClose:t,onYes:s}=e;return(0,a.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsx)("div",{className:"relative bg-white rounded-xl shadow-xl w-[420px]",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:"\xd7"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Are you sure ?"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Do you want to mark this order as collected ?"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"px-5 py-2 border border-blue-600 text-blue-600 rounded-md",children:"No"}),(0,a.jsx)("button",{onClick:s,className:"px-5 py-2 bg-blue-600 text-white rounded-md",children:"Yes"})]})]})})})})]})},{onClose:()=>{g(!1),w(null)},onYes:async()=>{g(!1),await F(N),f(!0)}}),j&&N&&(0,a.jsx)(e=>{var t,s,l,r,d,i;let{order:n,onClose:c}=e,o=(null===(t=n.payment)||void 0===t?void 0:t.paymentMethod)||(null===(s=n.formData)||void 0===s?void 0:s.paymentMethod),x=Array.isArray(n.items)?n.items.map(e=>"".concat(e.name).concat(e.type?"(".concat(e.type,")"):""," x ").concat(e.quantity||0)).slice(0,3):[],m=n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||Date.now());return(0,a.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:c}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsx)("div",{className:"relative transform overflow-hidden bg-white rounded-2xl shadow-xl w-[900px] max-w-5xl",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-5",children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold",children:"Mark as Delivered"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"px-4 py-1 rounded-full text-sm bg-indigo-50 text-indigo-600",children:"Cleaned"}),(0,a.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-gray-500 p-1",children:"\xd7"})]})]}),(0,a.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"grid grid-cols-8 text-xs font-medium uppercase tracking-wider bg-gray-50 text-gray-500",children:[(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Order ID"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left col-span-2",children:"Order Summary"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Date"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Date Cleaned"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Paid"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Total"}),(0,a.jsx)("div",{className:"px-4 py-3 text-left",children:"Balance"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-8 items-center text-sm",children:[(0,a.jsxs)("div",{className:"px-4 py-3",children:["#",n.orderId]}),(0,a.jsx)("div",{className:"px-4 py-3 col-span-2 space-y-1",children:x.length>0?x.map((e,t)=>(0,a.jsx)("div",{children:e},t)):(0,a.jsx)("div",{children:"-"})}),(0,a.jsx)("div",{className:"px-4 py-3",children:Q(n.createdAt)}),(0,a.jsx)("div",{className:"px-4 py-3",children:Q(m)}),(0,a.jsx)("div",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat($(o)),children:o?V(o):"Unpaid"})}),(0,a.jsx)("div",{className:"px-4 py-3",children:H((null===(l=n.payment)||void 0===l?void 0:l.total)||(null===(r=n.formData)||void 0===r?void 0:r.total))}),(0,a.jsx)("div",{className:"px-4 py-3",children:H((null===(d=n.payment)||void 0===d?void 0:d.total)||(null===(i=n.formData)||void 0===i?void 0:i.total))})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-end mt-6",children:(0,a.jsx)("button",{onClick:()=>{try{window.location.href="/Admin/Invoice?orderId=".concat(n.orderId)}catch(e){c()}},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Pay Now"})})]})})})})]})},{order:N,onClose:()=>{f(!1),w(null)}})]})};function o(){let[e,t]=(0,l.useState)({type:null,message:null});return(0,l.useEffect)(()=>{let e=setTimeout(()=>{t({type:null,message:null})},3e3);return()=>clearTimeout(e)},[e.message]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.Z,{}),e.message&&(0,a.jsx)("div",{className:"fixed top-4 right-4 p-4 rounded-lg shadow-lg ".concat("success"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.message}),(0,a.jsx)(c,{setShowMessage:t})]})}}},function(e){e.O(0,[358,657,218,699,109,853,163,971,23,744],function(){return e(e.s=4457)}),_N_E=e.O()}]);